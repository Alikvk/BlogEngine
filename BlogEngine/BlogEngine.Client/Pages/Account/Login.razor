@page "/account/login"
@layout BrandOnlyLayout
@inject ILoginService LoginService
@inject IAccountClient AccountClient
@inject NavigationManager NavigationManager

<LoginForm ValidSubmit="OnValidSubmit"/>

@code{
    private async Task OnValidSubmit(UserInfoDTO userInfoDTO)
    {
        var userTokenDTO = await AccountClient.LoginAsync(userInfoDTO);
        await LoginService.LoginAsync(userTokenDTO.Token);

        NavigationManager.NavigateTo("");
    }
}