@page "/account/register"
@layout BrandOnlyLayout
@inject IAccountClient AccountClient
@inject ILoginService LoginService
@inject NavigationManager NavigationManager

<RegisterForm ValidSubmit="OnValidSubmit"/>

@code{
    private async Task OnValidSubmit(UserInfoDTO userInfoDTO)
    {
        var userTokenDTO = await AccountClient.RegisterAsync(userInfoDTO);
        await LoginService.LoginAsync(userTokenDTO.Token);

        NavigationManager.NavigateTo("");
    }
}